# Data Integrity
## Conduit BOQ System â€” Canonical Reference

**Last Updated:** 2026-01-22  
**Status:** Canonical  
**Source:** Migrated from `docs/DATABASE_SCHEMA.md`, `migrations/README.md`

---

## 1. Database Tables

> **Source:** [DATABASE_SCHEMA.md](file:///Users/cloud/Cloudstellar/conduit-boq/docs/legacy/DATABASE_SCHEMA.md)

<!-- TODO: Soft-absorb table definitions from DATABASE_SCHEMA.md Section "Tables" -->

### 1.1 organizations
### 1.2 departments
### 1.3 sectors
### 1.4 user_profiles
### 1.5 boq
### 1.6 boq_routes
### 1.7 boq_items
### 1.8 price_list
### 1.9 factor_reference
### 1.10 app_settings

---

## 2. Row Level Security (RLS)

> **Source:** [DATABASE_SCHEMA.md](file:///Users/cloud/Cloudstellar/conduit-boq/docs/legacy/DATABASE_SCHEMA.md) Section "RLS"

### 2.1 Enabled Tables
### 2.2 Key Policies

---

## 3. Indexes

> **Source:** [DATABASE_SCHEMA.md](file:///Users/cloud/Cloudstellar/conduit-boq/docs/legacy/DATABASE_SCHEMA.md) Section "Indexes"

---

## 4. Triggers & Functions

> **Source:** [DATABASE_SCHEMA.md](file:///Users/cloud/Cloudstellar/conduit-boq/docs/legacy/DATABASE_SCHEMA.md) Section "Triggers"

### 4.1 Auto-update timestamps
### 4.2 Auto-create user profile
### 4.3 Lock org fields after onboarding

---

## 5. RPC Functions

> **Source:** [DATABASE_SCHEMA.md](file:///Users/cloud/Cloudstellar/conduit-boq/docs/legacy/DATABASE_SCHEMA.md) Section "RPC Functions"

---

## 6. Migration Log

> **Source:** [migrations/README.md](file:///Users/cloud/Cloudstellar/conduit-boq/migrations/README.md)

<!-- TODO: Soft-absorb migration list from DATABASE_SCHEMA.md Section "Migration Files" -->

---

## 7. Phase 2 Schema Preview

> **Source:** [DATABASE_SCHEMA.md](file:///Users/cloud/Cloudstellar/conduit-boq/docs/legacy/DATABASE_SCHEMA.md) Section "Phase 2 Schema Preview"

---

## References

- Original: [docs/DATABASE_SCHEMA.md](file:///Users/cloud/Cloudstellar/conduit-boq/docs/legacy/DATABASE_SCHEMA.md)
- Original: [migrations/README.md](file:///Users/cloud/Cloudstellar/conduit-boq/migrations/README.md)
